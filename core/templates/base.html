{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'base.css' %}" />
    {% block extra_css %}{% endblock %}
  </head>
  <body>
    <nav class="navbar">
      <div>
        <a href=""><i class="fa fa-balance-scale" aria-hidden="true"></i> Sale</a>
        <a href=""><i class="fa-solid fa-coins" aria-hidden="true"></i> Customer Receive</a>
        <a href=""><i class="fa-solid fa-usd" aria-hidden="true"></i> Supplier Payment</a>
        <a href=""><i class="fa fa-shopping-cart" aria-hidden="true"></i> Purchase</a>
      </div>
    </nav>
    <button class="toggle-btn" id="sidebarToggle"><i class="fas fa-bars"></i></button>
    <aside class="sidebar" id="sidebar">
      <ul>
        <li>
          <a href="{% url 'dashboard' %}"><i class="fa fa-tachometer" aria-hidden="true"></i> Dashboard</a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-balance-scale" aria-hidden="true"></i> Sale <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'new_sale' %}">New Sale</a>
            </li>
            <li>
              <a href="{% url 'manage_sale' %}">Manage Sale</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-sort-amount-asc" aria-hidden="true"></i> Purchase Order <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'add_purchase_order' %}">Add Purchase Order</a>
            </li>
            <li>
              <a href="{% url 'manage_purchase_order' %}">Manage Purchase Order</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-user-circle" aria-hidden="true"></i> Customer <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'add_customer' %}">Add Customer</a>
            </li>
            <li>
              <a href="{% url 'customer_list' %}">Customer List</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-user-secret" aria-hidden="true"></i> Supplier <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'add_supplier' %}">Add Supplier</a>
            </li>
            <li>
              <a href="{% url 'supplier_list' %}">Supplier List</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-cubes" aria-hidden="true"></i> Product <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'add_category' %}">Add Category</a>
            </li>
            <li>
              <a href="{% url 'category_list' %}">Category List</a>
            </li>
            <li>
              <a href="{% url 'add_unit' %}">Add Unit</a>
            </li>
            <li>
              <a href="{% url 'unit_list' %}">Unit List</a>
            </li>
            <li>
              <a href="{% url 'add_product' %}">Add Product</a>
            </li>
            <li>
              <a href="{% url 'add_product_csv' %}">Add Product (CSV)</a>
            </li>
            <li>
              <a href="{% url 'product_list' %}">Manage Product</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-shopping-cart" aria-hidden="true"></i> Purchase <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'add_purchase' %}">Add Purchase</a>
            </li>
            <li>
              <a href="{% url 'manage_purchase' %}">Manage Purchase</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"><i class="fa fa-cube" aria-hidden="true"></i> Stock <i class="fa fa-sort-desc" aria-hidden="true"></i></a>
          <ul class="dropdown-menu">
            <li>
              <a href="{% url 'stock_report' %}">Stock Report</a>
            </li>
          </ul>
        </li>
      </ul>
    </aside>
    <main id="mainContent">
      {% block content %}
        <!-- Default content can go here (optional) -->
      {% endblock %}
    </main>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Dropdown functionality for ALL dropdowns
        const dropdowns = document.querySelectorAll('.dropdown')
      
        dropdowns.forEach((dropdown) => {
          const toggle = dropdown.querySelector('.dropdown-toggle')
          const menu = dropdown.querySelector('.dropdown-menu')
      
          toggle.addEventListener('click', function (e) {
            e.preventDefault()
            e.stopPropagation()
      
            // Close all other dropdowns first
            dropdowns.forEach((item) => {
              if (item !== dropdown) {
                item.classList.remove('active')
              }
            })
      
            // Toggle current dropdown
            dropdown.classList.toggle('active')
          })
      
          // Keep dropdown open when clicking menu items
          menu.addEventListener('click', function (e) {
            e.stopPropagation()
          })
        })
      
        // Close dropdowns when clicking outside
        document.addEventListener('click', function (e) {
          if (!e.target.closest('.dropdown')) {
            dropdowns.forEach((dropdown) => {
              dropdown.classList.remove('active')
            })
          }
        })
      
        // Sidebar toggle
        const sidebarToggle = document.getElementById('sidebarToggle')
        const sidebar = document.getElementById('sidebar')
        const mainContent = document.getElementById('mainContent')
      
        sidebarToggle.addEventListener('click', function () {
          sidebar.classList.toggle('collapsed')
          mainContent.classList.toggle('full-width')
        })
      })
    </script>
  </body>
</html>
